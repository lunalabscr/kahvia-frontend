module.exports=[51016,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(41361);function e(a){return"span"===a._type&&"text"in a&&"string"==typeof a.text&&(void 0===a.marks||Array.isArray(a.marks)&&a.marks.every(a=>"string"==typeof a))}function f(a){return"string"==typeof a._type&&"@"!==a._type[0]&&(!("markDefs"in a)||!a.markDefs||Array.isArray(a.markDefs)&&a.markDefs.every(a=>"string"==typeof a._key))&&"children"in a&&Array.isArray(a.children)&&a.children.every(a=>"object"==typeof a&&"_type"in a)}function g(a){return f(a)&&"listItem"in a&&"string"==typeof a.listItem&&(void 0===a.level||"number"==typeof a.level)}function h(a){return"@list"===a._type}function i(a){return"@span"===a._type}function j(a){return"@text"===a._type}let k=["strong","em","code","underline","strike-through"];function l(a,b,c){if(!e(a)||!a.marks||!a.marks.length)return[];let d=a.marks.slice(),f={};return d.forEach(a=>{f[a]=1;for(let d=b+1;d<c.length;d++){let b=c[d];if(b&&e(b)&&Array.isArray(b.marks)&&-1!==b.marks.indexOf(a))f[a]++;else break}}),d.sort((a,b)=>(function(a,b,c){let d=a[b],e=a[c];if(d!==e)return e-d;let f=k.indexOf(b),g=k.indexOf(c);return f===g?b.localeCompare(c):f-g})(f,a,b))}function m(a,b,c){return{_type:"@list",_key:`${a._key||`${b}`}-parent`,mode:c,level:a.level||1,listItem:a.listItem,children:[a]}}function n(a,b){let c=b.level||1,d=b.listItem||"normal",f="string"==typeof b.listItem;if(h(a)&&(a.level||1)===c&&f&&(a.listItem||"normal")===d)return a;if(!("children"in a))return;let g=a.children[a.children.length-1];return g&&!e(g)?n(g,b):void 0}let o={textDecoration:"underline"},p=(a,b)=>`[@portabletext/react] Unknown ${a}, specify a component for it in the \`components.${b}\` prop`,q=a=>p(`block type "${a}"`,"types");function r(a){console.warn(a)}let s={display:"none"},t={types:{},block:{normal:({children:a})=>(0,b.jsx)("p",{children:a}),blockquote:({children:a})=>(0,b.jsx)("blockquote",{children:a}),h1:({children:a})=>(0,b.jsx)("h1",{children:a}),h2:({children:a})=>(0,b.jsx)("h2",{children:a}),h3:({children:a})=>(0,b.jsx)("h3",{children:a}),h4:({children:a})=>(0,b.jsx)("h4",{children:a}),h5:({children:a})=>(0,b.jsx)("h5",{children:a}),h6:({children:a})=>(0,b.jsx)("h6",{children:a})},marks:{em:({children:a})=>(0,b.jsx)("em",{children:a}),strong:({children:a})=>(0,b.jsx)("strong",{children:a}),code:({children:a})=>(0,b.jsx)("code",{children:a}),underline:({children:a})=>(0,b.jsx)("span",{style:o,children:a}),"strike-through":({children:a})=>(0,b.jsx)("del",{children:a}),link:({children:a,value:c})=>(0,b.jsx)("a",{href:c?.href,children:a})},list:{number:({children:a})=>(0,b.jsx)("ol",{children:a}),bullet:({children:a})=>(0,b.jsx)("ul",{children:a})},listItem:({children:a})=>(0,b.jsx)("li",{children:a}),hardBreak:()=>(0,b.jsx)("br",{}),unknownType:({value:a,isInline:c})=>{let d=q(a._type);return(0,b.jsx)(c?"span":"div",{style:s,children:d})},unknownMark:({markType:a,children:c})=>(0,b.jsx)("span",{className:`unknown__pt__mark__${a}`,children:c}),unknownList:({children:a})=>(0,b.jsx)("ul",{children:a}),unknownListItem:({children:a})=>(0,b.jsx)("li",{children:a}),unknownBlockStyle:({children:a})=>(0,b.jsx)("p",{children:a})};function u(a,b,c){let d=b[c],e=a[c];return"function"==typeof d||d&&"function"==typeof e?d:d?{...e,...d}:e}function v({value:a,components:d,listNestingMode:e,onMissingComponent:f=r}){let h=f||y,i=function(a,b){let c=[],d;for(let h=0;h<a.length;h++){let i=a[h];if(i){var e,f;if(!g(i)){c.push(i),d=void 0;continue}if(!d){d=m(i,h,b),c.push(d);continue}if(e=i,f=d,(e.level||1)===f.level&&e.listItem===f.listItem){d.children.push(i);continue}if((i.level||1)>d.level){let a=m(i,h,b);if("html"===b){let b=d.children[d.children.length-1],c={...b,children:[...b.children,a]};d.children[d.children.length-1]=c}else d.children.push(a);d=a;continue}if((i.level||1)<d.level){let a=c[c.length-1],e=a&&n(a,i);if(e){(d=e).children.push(i);continue}d=m(i,h,b),c.push(d);continue}if(i.listItem!==d.listItem){let a=c[c.length-1],e=a&&n(a,{level:i.level||1});if(e&&e.listItem===i.listItem){(d=e).children.push(i);continue}d=m(i,h,b),c.push(d);continue}console.warn("Unknown state encountered for block",i),c.push(i)}}return c}(Array.isArray(a)?a:[a],e||"html"),j=(0,c.useMemo)(()=>d?function(a,b){let{block:c,list:d,listItem:e,marks:f,types:g,...h}=b;return{...a,block:u(a,b,"block"),list:u(a,b,"list"),listItem:u(a,b,"listItem"),marks:u(a,b,"marks"),types:u(a,b,"types"),...h}}(t,d):t,[d]),k=(0,c.useMemo)(()=>w(j,h),[j,h]);return(0,b.jsx)(b.Fragment,{children:i.map((a,b)=>k({node:a,index:b,isInline:!1,renderNode:k}))})}let w=(a,c)=>function d(e){var k,l,m,n,o,r,s,t;let u,v,{node:w,index:y,isInline:z}=e,A=w._key||`node-${y}`;return h(w)?function(e,f,g){let h=e.children.map((a,b)=>d({node:a._key?a:{...a,_key:`li-${f}-${b}`},index:b,isInline:!1,renderNode:d})),i=a.list,j=("function"==typeof i?i:i[e.listItem])||a.unknownList;if(j===a.unknownList){let a=e.listItem||"bullet";c(p(`list style "${a}"`,"list"),{nodeType:"listStyle",type:a})}return(0,b.jsx)(j,{value:e,index:f,isInline:!1,renderNode:d,children:h},g)}(w,y,A):g(w)?function(e,f,g){let h=x({node:e,index:f,isInline:!1,renderNode:d}),i=a.listItem,j=("function"==typeof i?i:i[e.listItem])||a.unknownListItem;if(j===a.unknownListItem){let a=e.listItem||"bullet";c(p(`list item style "${a}"`,"listItem"),{type:a,nodeType:"listItemStyle"})}let k=h.children;if(e.style&&"normal"!==e.style){let{listItem:a,...b}=e;k=d({node:b,index:f,isInline:!1,renderNode:d})}return(0,b.jsx)(j,{value:e,index:f,isInline:!1,renderNode:d,children:k},g)}(w,y,A):i(w)?function(e,f,g){let{markDef:h,markType:k,markKey:l}=e,m=a.marks[k]||a.unknownMark,n=e.children.map((a,b)=>d({node:a,index:b,isInline:!0,renderNode:d}));return m===a.unknownMark&&c(p(`mark type "${k}"`,"marks"),{nodeType:"mark",type:k}),(0,b.jsx)(m,{text:function a(b){let c="";return b.children.forEach(b=>{j(b)?c+=b.text:i(b)&&(c+=a(b))}),c}(e),value:h,markType:k,markKey:l,renderNode:d,children:n},g)}(w,0,A):w._type in a.types?(k=w,l=y,m=A,n=z,(u=a.types[k._type])?(0,b.jsx)(u,{value:k,isInline:n,index:l,renderNode:d},m):null):f(w)?function(e,f,g,h){let{_key:i,...j}=x({node:e,index:f,isInline:h,renderNode:d}),k=j.node.style||"normal",l=("function"==typeof a.block?a.block:a.block[k])||a.unknownBlockStyle;return l===a.unknownBlockStyle&&c(p(`block style "${k}"`,"block"),{nodeType:"blockStyle",type:k}),(0,b.jsx)(l,{...j,value:j.node,renderNode:d},g)}(w,y,A,z):j(w)?function(c,d){if("\n"===c.text){let c=a.hardBreak;return c?(0,b.jsx)(c,{},d):"\n"}return c.text}(w,A):(o=w,r=y,s=A,t=z,c(q(o._type),{nodeType:"block",type:o._type}),v=a.unknownType,(0,b.jsx)(v,{value:o,isInline:t,index:r,renderNode:d},s))};function x(a){let{node:b,index:c,isInline:d,renderNode:f}=a,g=(function(a){let{children:b}=a,c=a.markDefs??[];if(!b||!b.length)return[];let d=b.map(l),f={_type:"@span",children:[],markType:"<unknown>"},g=[f];for(let a=0;a<b.length;a++){let f=b[a];if(!f)continue;let h=d[a]||[],i=1;if(g.length>1)for(;i<g.length;i++){let a=g[i]?.markKey||"",b=h.indexOf(a);if(-1===b)break;h.splice(b,1)}let j=(g=g.slice(0,i))[g.length-1];if(j){for(let a of h){let b=c?.find(b=>b._key===a),d={_type:"@span",_key:f._key,children:[],markDef:b,markType:b?b._type:a,markKey:a};j.children.push(d),g.push(d),j=d}if(e(f)){let a=f.text.split("\n");for(let b=a.length;b-- >1;)a.splice(b,0,"\n");j.children=j.children.concat(a.map(a=>({_type:"@text",text:a})))}else j.children=j.children.concat(f)}}return f.children})(b).map((a,b)=>f({node:a,isInline:!0,index:b,renderNode:f}));return{_key:b._key||`block-${c}`,children:g,index:c,isInline:d,node:b}}function y(){}var z=a.i(95466),A=a.i(87976),B=a.i(13749),C=a.i(50522),D=a.i(376),E=a.i(48136),F=a.i(71987);function G({product:a,relatedProducts:e}){let{t:f}=(0,E.useLanguage)(),[g,h]=(0,c.useState)(0),[i,j]=(0,D.default)({loop:!0}),k=(0,c.useCallback)(()=>{j&&h(j.selectedScrollSnap())},[j]);(0,c.useEffect)(()=>{j&&(k(),j.on("select",k),j.on("reInit",k))},[j,k]);let l=(0,c.useCallback)(a=>{j&&j.scrollTo(a)},[j]),m=(0,c.useCallback)(()=>{j&&j.scrollPrev()},[j]),n=(0,c.useCallback)(()=>{j&&j.scrollNext()},[j]),o=[a.image,...(a.images||[]).map(a=>a)].filter(Boolean),p=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a.price);return(0,b.jsx)("div",{className:"bg-white min-h-screen pt-20 pb-20 font-roboto",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-20",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-gray-100 rounded-lg relative group",children:[(0,b.jsx)("div",{ref:i,className:"overflow-hidden rounded-lg aspect-square",children:(0,b.jsx)("div",{className:"flex h-full",children:o.map((c,e)=>(0,b.jsx)("div",{className:"flex-[0_0_100%] min-w-0 relative",children:(0,b.jsx)(F.default,{src:(0,d.urlFor)(c).width(800).height(800).url(),alt:`${a.name} - View ${e+1}`,fill:!0,className:"object-cover",priority:0===e})},e))})}),o.length>1&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:m,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow hover:bg-white transition-colors z-10","aria-label":"Previous image",children:(0,b.jsx)(B.ChevronLeft,{size:24})}),(0,b.jsx)("button",{onClick:n,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow hover:bg-white transition-colors z-10","aria-label":"Next image",children:(0,b.jsx)(C.ChevronRight,{size:24})})]})]}),o.length>1&&(0,b.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2",children:o.map((a,c)=>(0,b.jsx)("button",{onClick:()=>l(c),className:`relative w-20 h-20 flex-shrink-0 rounded-md overflow-hidden border-2 transition-all ${g===c?"border-primary-600 ring-2 ring-primary-100":"border-transparent hover:border-gray-300"}`,children:(0,b.jsx)(F.default,{src:(0,d.urlFor)(a).width(100).height(100).url(),alt:`View ${c+1}`,fill:!0,className:"object-cover"})},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-doto font-bold text-gray-900 mb-2",children:a.name}),(0,b.jsx)("p",{className:"text-2xl font-bold text-primary-600 mb-6",children:p}),(0,b.jsx)("div",{className:"prose prose-neutral max-w-none mb-8 font-roboto text-gray-600",children:a.body&&(0,b.jsx)(v,{value:a.body})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-6 mb-8 text-sm",children:[a.process&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"block text-gray-500 font-medium mb-1",children:f.product.process}),(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:a.process})]}),a.roastLevel&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"block text-gray-500 font-medium mb-1",children:f.product.roastLevel}),(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:a.roastLevel})]}),a.producer&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"block text-gray-500 font-medium mb-1",children:f.product.producer}),(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:a.producer})]}),a.altitude&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"block text-gray-500 font-medium mb-1",children:f.product.altitude}),(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:a.altitude})]})]}),(0,b.jsx)(z.default,{className:"w-full justify-center",message:`Hi, I'm interested in buying ${a.name}`})]})]}),e.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-doto font-bold mb-8",children:f.product.related}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map(a=>(0,b.jsx)(A.default,{product:a},a._id))})]})]})})}a.s(["default",()=>G],51016)}];

//# sourceMappingURL=src_components_ProductView_tsx_b617c0b3._.js.map