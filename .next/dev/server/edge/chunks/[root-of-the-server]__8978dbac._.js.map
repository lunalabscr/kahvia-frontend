{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport type { NextRequest } from \"next/server\";\n\nconst locales = [\"en\", \"es\"];\nconst defaultLocale = \"en\";\n\nexport function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl;\n\n  // Skip static files and internal paths\n  if (\n    pathname.startsWith(\"/_next\") ||\n    pathname.startsWith(\"/api\") ||\n    pathname.includes(\".\")\n  ) {\n    return NextResponse.next();\n  }\n\n  // Check if pathname is missing a locale\n  const pathnameIsMissingLocale = locales.every(\n    (locale) =>\n      !pathname.startsWith(`/${locale}/`) && pathname !== `/${locale}`,\n  );\n\n  // If missing locale, rewrite it to /en/... so that [lang] picks it up\n  if (pathnameIsMissingLocale) {\n    return NextResponse.rewrite(\n      new URL(`/${defaultLocale}${pathname}`, request.url),\n    );\n  }\n\n  // If the path starts with /en, redirect to / (canonical) to avoid duplicate content\n  if (\n    pathname.startsWith(`/${defaultLocale}/`) ||\n    pathname === `/${defaultLocale}`\n  ) {\n    const pathWithoutLocale = pathname.replace(`/${defaultLocale}`, \"\");\n    const newPath = pathWithoutLocale === \"\" ? \"/\" : pathWithoutLocale;\n    return NextResponse.redirect(new URL(newPath, request.url));\n  }\n\n  return NextResponse.next();\n}\n\nexport const config = {\n  matcher: [\"/((?!api|_next/static|_next/image|favicon.ico).*)\"],\n};\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAGA,MAAM,UAAU;IAAC;IAAM;CAAK;AAC5B,MAAM,gBAAgB;AAEf,SAAS,WAAW,OAAoB;IAC7C,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,uCAAuC;IACvC,IACE,SAAS,UAAU,CAAC,aACpB,SAAS,UAAU,CAAC,WACpB,SAAS,QAAQ,CAAC,MAClB;QACA,OAAO,gMAAY,CAAC,IAAI;IAC1B;IAEA,wCAAwC;IACxC,MAAM,0BAA0B,QAAQ,KAAK,CAC3C,CAAC,SACC,CAAC,SAAS,UAAU,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,KAAK,aAAa,CAAC,CAAC,EAAE,QAAQ;IAGpE,sEAAsE;IACtE,IAAI,yBAAyB;QAC3B,OAAO,gMAAY,CAAC,OAAO,CACzB,IAAI,IAAI,CAAC,CAAC,EAAE,gBAAgB,UAAU,EAAE,QAAQ,GAAG;IAEvD;IAEA,oFAAoF;IACpF,IACE,SAAS,UAAU,CAAC,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC,KACxC,aAAa,CAAC,CAAC,EAAE,eAAe,EAChC;QACA,MAAM,oBAAoB,SAAS,OAAO,CAAC,CAAC,CAAC,EAAE,eAAe,EAAE;QAChE,MAAM,UAAU,sBAAsB,KAAK,MAAM;QACjD,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,SAAS,QAAQ,GAAG;IAC3D;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAoD;AAChE"}}]
}